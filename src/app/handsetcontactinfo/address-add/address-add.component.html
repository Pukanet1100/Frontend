<div class="mx-auto p-8">
    <div class="space-y-6">
        <div class="grid grid-cols-3 gap-4">
            <div class="col-span-1">
                <label class="block text-sm font-medium text-gray-700">บ้านเลขที่<span class="text-red-600 font-bold">
                        *</span></label>
                <input type="text" [(ngModel)]="address.houseNumber"
                    class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300"
                    placeholder="0/0">
            </div>

            <div class="col-span-1">
                <label class="block text-sm font-medium text-gray-700">หมู่ที่</label>
                <input type="text" [(ngModel)]="address.villageNumber"
                    class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300"
                    placeholder="0">
            </div>

            <div class="col-span-1">
                <label class="block text-sm font-medium text-gray-700">หมู่บ้าน</label>
                <input type="text" [(ngModel)]="address.village"
                    class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300"
                    placeholder="ชื่อหมู่บ้าน">
            </div>
        </div>

        <div class="grid grid-cols-2 gap-4">
            <div>
                <label class="block text-sm font-medium text-gray-700">ชื่ออาคาร</label>
                <input type="text" [(ngModel)]="address.building"
                    class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300"
                    placeholder="ชื่ออาคาร">
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700">ชั้น</label>
                <input type="text" [(ngModel)]="address.floor"
                    class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300"
                    placeholder="ชั้น">
            </div>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700">ซอย</label>
            <input type="text" [(ngModel)]="address.alley"
                class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300"
                placeholder="ซอย">
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700">ถนน</label>
            <input type="text" [(ngModel)]="address.road"
                class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300"
                placeholder="ถนน">
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700">จังหวัด<span class="text-red-600 font-bold">
                    *</span></label>
            <select [(ngModel)]="address.province" (change)="onProvinceChange()"
                class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300">
                <option value="" disabled selected>เลือกจังหวัด</option>
                <option *ngFor="let province of provinces" [value]="province">{{ province }}</option>
            </select>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700">เขต/อำเภอ<span class="text-red-600 font-bold">
                    *</span></label>
            <select [(ngModel)]="address.district" (change)="onAmphoeChange()"
                class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300">
                <option value="" disabled selected>เลือกเขต/อำเภอ</option>
                <option *ngFor="let amphoe of amphoes" [value]="amphoe">{{ amphoe }}</option>
            </select>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700">แขวง/ตำบล<span class="text-red-600 font-bold">
                    *</span></label>
            <select [(ngModel)]="address.subDistrict" (change)="onDistrictChange()"
                class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300">
                <option value="" disabled selected>เลือกแขวง/ตำบล</option>
                <option *ngFor="let district of districts" [value]="district">{{ district }}</option>
            </select>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700">รหัสไปรษณีย์<span class="text-red-600 font-bold">
                    *</span></label>
            <input type="text" [(ngModel)]="address.postalCode"
                class="w-full mt-1 p-2 border border-gray-300 rounded-md bg-gray-100 cursor-not-allowed"
                placeholder="รหัสไปรษณีย์" readonly>
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700">อีเมล</label>
            <input type="email" [(ngModel)]="address.email"
                class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300"
                placeholder="boss@boss.com">
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700">เบอร์โทรติดต่อ<span class="text-red-600 font-bold">
                *</span></label>
            <input type="tel" [(ngModel)]="address.tel" maxlength="10" required
                class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-300"
                placeholder="0800000001">
        </div>

        <div class="relative">
            <button type="submit" class="w-full bg-[#8bc540] text-white p-3 rounded-md hover:bg-[#7db139]"
                (click)="saveAddress()">
                บันทึกข้อมูล
            </button>

            <div *ngIf="isPopupVisible"
                class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
                <div class="bg-white p-6 rounded-md shadow-md w-1/3 text-center">
                    <h2 class="text-[28px] font-semibold mb-4">กรุณากรอกข้อมูลให้ครบถ้วน</h2>
                    <ul class="text-left mb-4">
                        <li *ngFor="let message of errorMessages" class="text-red-600 text-center">{{ message }}</li>
                    </ul>
                    <button class="bg-[#8bc540] h-[50px] w-[200px] text-white px-4 py-2 rounded-md hover:bg-[#7db139]"
                        (click)="closePopup()">
                        ตกลง
                    </button>
                </div>
            </div>
            <div *ngIf="isSuccessPopupVisible"
                class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
                <div class="bg-white p-6 rounded-md shadow-md w-1/3 text-center">
                    <div class="flex justify-center items-center pb-[20px]">
                        <img src="../../../assets/icon/success.png" class="w-[150px]">
                    </div>
                    <h2 class="text-[28px] font-semibold mb-4 text-[#8bc540]">บันทึกข้อมูลสำเร็จ!</h2>
                    <p class="text-gray-700 pb-[10px]">ข้อมูลที่อยู่ของคุณถูกบันทึกเรียบร้อยแล้ว</p>
                    <button
                        class="bg-[#8bc540] h-[50px] w-[200px] text-white px-4 py-2 rounded-md hover:bg-[#7db139] mt-4"
                        (click)="closeSuccessPopup()">
                        ตกลง
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>